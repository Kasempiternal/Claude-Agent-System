{
  "_schema_version": "1.0.0",
  "_description": "Hook system configuration for Claude Agent System",
  "_notes": [
    "This file configures the hook infrastructure",
    "Hooks extend systemcc at three lifecycle points:",
    "  - UserPromptSubmit: After user submits /systemcc command",
    "  - PostToolUse: After Edit/Write/MultiEdit operations",
    "  - Stop: Before workflow completion",
    "Modify 'disabled_hooks' array to disable specific hooks"
  ],

  "enabled": true,

  "discovery_paths": [
    "middleware/hooks/user-prompt-submit/",
    "middleware/hooks/post-tool-use/",
    "middleware/hooks/stop/"
  ],

  "max_execution_time_ms": 5000,

  "error_handling": "continue",

  "logging": {
    "enabled": true,
    "level": "info",
    "file": ".claude/files/logs/hooks.log",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "console_output": false
  },

  "disabled_hooks": [],

  "cache": {
    "enabled": true,
    "ttl_seconds": 3600,
    "invalidate_on_file_change": true
  },

  "performance": {
    "parallel_discovery": true,
    "lazy_loading": true,
    "max_workers": 3
  },

  "hook_defaults": {
    "priority": 50,
    "enabled": true,
    "timeout_ms": 5000,
    "retry_on_failure": false,
    "max_retries": 0
  },

  "execution_rules": {
    "UserPromptSubmit": {
      "max_hooks": 10,
      "timeout_total_ms": 2000,
      "skip_on_error": true
    },
    "PostToolUse": {
      "max_hooks": 10,
      "timeout_total_ms": 500,
      "skip_on_error": true
    },
    "Stop": {
      "max_hooks": 10,
      "timeout_total_ms": 10000,
      "skip_on_error": false
    }
  },

  "security": {
    "validate_hook_signatures": false,
    "allow_external_hooks": false,
    "sandbox_execution": false
  },

  "development": {
    "hot_reload": false,
    "verbose_logging": false,
    "display_hook_stats": false
  },

  "_hook_lifecycle_documentation": {
    "UserPromptSubmit": "Executes after critical detection message, before Lyra optimization",
    "PostToolUse": "Executes immediately after Edit/Write/MultiEdit operations",
    "Stop": "Executes after memory update, before completion summary"
  },

  "_example_disabled_hooks": {
    "comment": "To disable specific hooks, add their IDs to the disabled_hooks array",
    "example": [
      "auto-pattern-detection",
      "file-change-tracker",
      "build-validator"
    ]
  }
}
