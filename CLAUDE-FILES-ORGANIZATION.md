# Claude Files Organization System

## Overview
This document defines the standardized directory structure for ALL non-code files generated by Claude agents and commands in this project. This system ensures consistent organization, easy management, and clear separation between code and Claude-generated documentation, tests, and reports.

## CRITICAL INSTRUCTION
**ALL Claude agents, commands, and workflows MUST create non-code files in the `.claude/files/` directory structure defined below. This is a mandatory requirement for all file creation operations. This location inside `.claude` ensures these files are automatically ignored by git when the `.claude` directory is in `.gitignore`.**

## Directory Structure

```
.claude/files/
├── documentation/          # All documentation files
│   ├── learnings/         # Patterns, solutions, and discoveries
│   │   └── LEARNINGS.md   # Main learnings file (moved from docs/)
│   ├── project/           # Project status and overviews
│   │   ├── PROJECT_DOCUMENTATION.md
│   │   └── SYSTEMS.md     # System architecture patterns
│   ├── features/          # Feature-specific documentation
│   ├── migrations/        # Migration guides
│   ├── architecture/      # Architecture documentation
│   ├── components/        # Component documentation
│   ├── api/              # API documentation
│   ├── performance/       # Performance documentation
│   └── build/            # Build system documentation
│
├── tests/                 # Test-related outputs
│   ├── results/          # Test execution results
│   │   └── [timestamp]-test-summary.md
│   ├── bugs/             # Bug reports and tracking
│   │   └── bug-[id]-[description].md
│   ├── performance/      # Performance test results
│   │   └── perf-[timestamp].md
│   └── coverage/         # Coverage reports
│
├── workflows/            # Workflow management files
│   ├── phase-based/      # Phase-based workflow outputs
│   │   ├── TASK-PLAN.md
│   │   ├── phase-1-outcome.md
│   │   ├── phase-2-outcome.md
│   │   └── TASK-SUMMARY.md
│   ├── task-plans/       # Individual task planning
│   ├── summaries/        # Task and cycle summaries
│   │   └── cycle-[timestamp].json
│   └── logs/            # Agent interaction logs
│
├── pm/                  # NEW: Local Project Management System
│   ├── config.json      # PM system configuration
│   ├── dashboard.md     # Live progress dashboard
│   ├── README.md        # PM system documentation
│   ├── epics/          # Epic definitions and PRDs
│   │   ├── epic-[timestamp].json
│   │   └── epic-[timestamp].md
│   ├── issues/         # Task specifications and tracking
│   │   ├── task-[id].json
│   │   ├── task-[id]-notes.md
│   │   └── task-[id]-outcome.md
│   ├── progress/       # Progress tracking and analytics
│   │   ├── daily-standup.md
│   │   ├── completion-log.json
│   │   └── timeline.json
│   ├── templates/      # Creation templates
│   │   ├── epic-template.json
│   │   ├── task-template.json
│   │   └── outcome-template.md
│   └── reports/        # Velocity and efficiency reports
│       ├── velocity-report.md
│       └── efficiency-metrics.json
│
└── temp/                # Temporary working files
    └── WORK.md          # Shared workspace (complete-system)
```

## File Path Mapping

### For DOCUMENTER Agent
- **OLD**: `docs/LEARNINGS.md` → **NEW**: `.claude/files/documentation/learnings/LEARNINGS.md`
- **OLD**: `docs/SYSTEMS.md` → **NEW**: `.claude/files/documentation/project/SYSTEMS.md`
- **OLD**: `docs/features/[feature].md` → **NEW**: `.claude/files/documentation/features/[feature].md`
- **OLD**: `PROJECT_DOCUMENTATION.md` → **NEW**: `.claude/files/documentation/project/PROJECT_DOCUMENTATION.md`

### For TESTER Agent
- **OLD**: Test results in code directory → **NEW**: `.claude/files/tests/results/[timestamp]-test-summary.md`
- **OLD**: Bug reports inline → **NEW**: `.claude/files/tests/bugs/bug-[id]-[description].md`
- **OLD**: Performance reports → **NEW**: `.claude/files/tests/performance/perf-[timestamp].md`

### For Phase-Based Workflow (taskit)
- **OLD**: `TASK-PLAN.md` (root) → **NEW**: `.claude/files/workflows/phase-based/TASK-PLAN.md`
- **OLD**: `phase-X-outcome.md` (root) → **NEW**: `.claude/files/workflows/phase-based/phase-X-outcome.md`
- **OLD**: `TASK-SUMMARY.md` (root) → **NEW**: `.claude/files/workflows/phase-based/TASK-SUMMARY.md`

### For Orchestrated Workflow
- **OLD**: Cycle reports → **NEW**: `.claude/files/workflows/summaries/cycle-[timestamp].json`
- **OLD**: Agent logs → **NEW**: `.claude/files/workflows/logs/[timestamp]-interaction.log`

### For Complete System Workflow
- **OLD**: `WORK.md` (root) → **NEW**: `.claude/files/temp/WORK.md`

### For CCPM Integration (NEW!)
- **PM System**: All project management files → `.claude/files/pm/`
- **Epic Management**: Epic definitions → `.claude/files/pm/epics/epic-[timestamp].json`
- **Epic PRDs**: Epic requirements → `.claude/files/pm/epics/epic-[timestamp].md`
- **Task Tracking**: Task specifications → `.claude/files/pm/issues/task-[id].json`
- **Task Notes**: Implementation notes → `.claude/files/pm/issues/task-[id]-notes.md`
- **Task Outcomes**: Completion results → `.claude/files/pm/issues/task-[id]-outcome.md`
- **Progress Dashboard**: Live status → `.claude/files/pm/dashboard.md`
- **Standup Reports**: Daily summaries → `.claude/files/pm/progress/daily-standup.md`
- **Velocity Reports**: Performance analytics → `.claude/files/pm/reports/velocity-report.md`

## Implementation Guidelines

### 1. Path Resolution
All agents should use this pattern for file creation:
```bash
# Base directory
CLAUDE_OUTPUT_DIR=".claude/files"

# Example for documenter
DOC_PATH="${CLAUDE_OUTPUT_DIR}/documentation/learnings/LEARNINGS.md"

# Example for tester
TEST_RESULT="${CLAUDE_OUTPUT_DIR}/tests/results/$(date +%Y%m%d-%H%M%S)-test-summary.md"
```

### 2. Directory Creation
Agents must ensure directories exist before creating files:
```bash
mkdir -p "$(dirname $FILE_PATH)"
```

### 3. File Naming Conventions
- Use timestamps for unique identification: `YYYYMMDD-HHMMSS`
- Use descriptive names with hyphens: `feature-authentication-docs.md`
- Maintain consistent extensions: `.md` for markdown, `.json` for data

### 4. Cross-References
When referencing files in documentation:
- Use relative paths from project root: `.claude/files/documentation/learnings/LEARNINGS.md`
- Maintain links between related documents

## Special Cases

### 1. Root-Level Files (Exceptions)
These files may remain in the root directory:
- `README.md` - Project readme (human-maintained)
- `CLAUDE.md` - Claude configuration (must stay in root)
- `.gitignore` - Version control (add `.claude/files/` to ignore)

### 2. Code-Adjacent Documentation
- Inline code comments remain with code
- API documentation that must be with code for tools remains in place
- Only standalone documentation moves to `.claude/files/`

### 3. CCPM Project Management System
The `.claude/files/pm/` directory provides a complete local project management system:
- **Epic-Driven Development**: Break complex features into manageable epics with PRDs
- **Task Decomposition**: Automatic breakdown of epics into parallel-safe tasks
- **Progress Tracking**: Real-time dashboard showing completion status and velocity
- **Parallel Simulation**: Optimized task execution order for maximum efficiency
- **Analytics**: Velocity reports, efficiency metrics, and quality tracking
- **Professional Organization**: Enterprise-grade project management without external dependencies

This system activates automatically with `/systemcc --pm` commands and provides:
- 60-70% efficiency improvements through parallel task simulation
- Complete traceability from epic to implementation
- Professional dashboards and reporting
- Seamless fallback when GitHub integration is unavailable

## Version Control

Since all Claude-generated files are now in `.claude/files/`, they're automatically ignored when `.claude/` is in your `.gitignore`:

```gitignore
# Claude configuration and generated files
.claude/
```

If you want to keep certain important documentation while ignoring others:
```gitignore
# Ignore all Claude files
.claude/
# But keep important documentation
!.claude/files/documentation/learnings/
!.claude/files/documentation/project/
```

This keeps important learnings while ignoring temporary files.

## Migration Instructions

When updating existing projects:
1. Create the `.claude/files/` directory structure
2. Move existing files from `ClaudeFiles/` to `.claude/files/`
3. Update all agent references to use new paths
4. Ensure `.claude/` is in `.gitignore`
5. Remove old `ClaudeFiles/` directory after verification

## Enforcement

All agents MUST:
1. Check for `.claude/files/` directory existence
2. Create subdirectories as needed
3. Never create non-code files outside `.claude/files/` structure
4. Log file creation with full paths for transparency
5. Use `.claude/files/` as the base path for all non-code files

## Benefits

1. **Organization**: All Claude outputs in one location
2. **Cleanup**: Easy to remove all generated files
3. **Version Control**: Simple `.gitignore` management
4. **Clarity**: Clear separation of human vs Claude files
5. **Consistency**: Same structure across all projects

---

**Remember**: This is a MANDATORY requirement. All agents must follow this structure without exception.