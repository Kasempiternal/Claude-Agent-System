{
  "_schema_version": "1.0.0",
  "_description": "Declarative workflow selection rules for skill-based matching",
  "_notes": [
    "Skill-rules provide pattern-based workflow selection",
    "Integrates with auto-pattern-detection and decision engine",
    "Rules are evaluated in priority order: critical > high > medium > low"
  ],

  "rules": {
    "authentication_tasks": {
      "patterns": [
        "auth",
        "login",
        "logout",
        "signin",
        "signup",
        "jwt",
        "token",
        "session",
        "oauth",
        "sso",
        "password",
        "credential"
      ],
      "file_triggers": [
        "**/auth/**",
        "**/authentication/**",
        "**/middleware/auth*",
        "**/guards/**",
        "**/strategies/**"
      ],
      "preferred_workflow": "complete_system",
      "required_agents": [],
      "auto_activate_hooks": [],
      "priority": "high",
      "description": "Authentication and authorization tasks require comprehensive workflow"
    },

    "security_critical": {
      "patterns": [
        "security",
        "vulnerability",
        "xss",
        "csrf",
        "injection",
        "sql injection",
        "sanitize",
        "validate",
        "encrypt",
        "decrypt"
      ],
      "file_triggers": [
        "**/security/**",
        "**/validators/**"
      ],
      "preferred_workflow": "complete_system",
      "required_agents": [],
      "auto_activate_hooks": [],
      "priority": "critical",
      "description": "Security tasks require comprehensive validation and review"
    },

    "database_changes": {
      "patterns": [
        "database",
        "db",
        "sql",
        "migration",
        "schema",
        "model",
        "query"
      ],
      "file_triggers": [
        "**/models/**",
        "**/schema/**",
        "**/migrations/**",
        "**/prisma/**"
      ],
      "preferred_workflow": "complete_system",
      "required_agents": [],
      "priority": "high",
      "description": "Database changes require comprehensive workflow for data integrity"
    },

    "quick_bug_fixes": {
      "patterns": [
        "fix",
        "bug",
        "error",
        "broken",
        "not working"
      ],
      "file_triggers": [],
      "preferred_workflow": "orchestrated",
      "required_agents": [],
      "priority": "medium",
      "description": "Bug fixes can use streamlined workflow for speed"
    },

    "frontend_components": {
      "patterns": [
        "component",
        "ui",
        "button",
        "form",
        "modal",
        "page"
      ],
      "file_triggers": [
        "**/components/**",
        "**/*.tsx",
        "**/*.jsx",
        "**/*.vue"
      ],
      "preferred_workflow": "orchestrated",
      "required_agents": [],
      "priority": "medium",
      "description": "Frontend components typically use streamlined workflow"
    },

    "testing_tasks": {
      "patterns": [
        "test",
        "spec",
        "unit test",
        "integration test",
        "e2e"
      ],
      "file_triggers": [
        "**/*.test.*",
        "**/*.spec.*",
        "**/tests/**"
      ],
      "preferred_workflow": "orchestrated",
      "required_agents": [],
      "priority": "low",
      "description": "Testing tasks use streamlined workflow"
    },

    "refactoring_tasks": {
      "patterns": [
        "refactor",
        "cleanup",
        "reorganize",
        "restructure"
      ],
      "file_triggers": [],
      "preferred_workflow": "complete_system",
      "required_agents": [],
      "priority": "high",
      "description": "Refactoring requires comprehensive workflow for safety"
    }
  },

  "_priority_levels": {
    "critical": "Always use preferred workflow (security-critical)",
    "high": "Strong preference for preferred workflow",
    "medium": "Use as hint, can be overridden by decision engine",
    "low": "Informational only"
  },

  "_integration_notes": [
    "Skill-rules are evaluated BEFORE decision engine",
    "Critical/High priority rules override pattern detection",
    "Medium/Low priority rules influence decision engine",
    "Rules can be customized per project"
  ]
}
